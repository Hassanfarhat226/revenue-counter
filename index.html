<!-- Modern Revenue Counter -->
<div class="rev-counter" role="status" aria-live="polite">
  <span class="rev-label">
    <span class="rev-label--full">Revenue generated by our clients:</span>
    <span class="rev-label--short">Client Revenue</span>
  </span>
  <span id="rev-amount" class="rev-amount">$2,873,652</span>
  <span class="rev-live">
    <span class="rev-dot"></span> Live
  </span>
</div>

<style>
  :root {
    --bg: #000;
    --text: #f9f9f9;
    --muted: #9e9e9e;
    --accent: #ffd500;   /* brand yellow */
    --dot: #2ecc71;      /* green for live dot */
  }

  .rev-counter {
    display: inline-flex;
    align-items: center;
    gap: .8rem;
    padding: .8rem 1.2rem;
    border-radius: 14px;
    border: 1px solid var(--accent);
    background: var(--bg);
    color: var(--text);
    font-family: 'Inter', 'Poppins', 'Segoe UI', Roboto, sans-serif;
    font-size: 15px;
    font-weight: 500;
  }

  .rev-label {
    color: var(--muted);
    white-space: nowrap;
  }
  .rev-label--short { display: none; }

  .rev-amount {
    font-weight: 700;
    font-size: 16px;
    color: var(--text);
    letter-spacing: 0.5px;
    white-space: nowrap;
  }

  .rev-live {
    display: inline-flex;
    align-items: center;
    gap: .35rem;
    padding: 2px 8px;
    border-radius: 999px;
    background: #fff;
    color: #111;
    font-size: 12px;
    font-weight: 600;
  }

  .rev-dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    background: var(--dot);
    animation: pulse 1.6s ease-in-out infinite;
  }

  @keyframes pulse {
    0%   { box-shadow: 0 0 0 0 rgba(46,204,113,.6); transform: scale(1);}
    70%  { box-shadow: 0 0 0 6px rgba(46,204,113,0); transform: scale(1.05);}
    100% { box-shadow: 0 0 0 0 rgba(46,204,113,0); transform: scale(1);}
  }

  /* Mobile adjustments */
  @media (max-width: 480px) {
    .rev-counter {
      width: 100%;
      justify-content: center;
      font-size: 14px;
      gap: .6rem;
    }
    .rev-label--full { display: none; }
    .rev-label--short { display: inline; font-size: 12px; }
  }

  @media (prefers-reduced-motion: reduce) {
    .rev-dot { animation: none; }
  }
</style>

<script>
  // Live Revenue Counter with persistence
  const DEFAULT_REVENUE = 2873652; // starting value
  const amountEl = document.getElementById('rev-amount');

  // Load saved revenue if available
  let stored = localStorage.getItem('rev');
  let current = stored ? parseFloat(stored) : DEFAULT_REVENUE;
  let target = current;

  function fmt(n) {
    return `$${n.toLocaleString(undefined,{maximumFractionDigits:0})}`;
  }

  function bumpTarget() {
    const increment = 25 + Math.random() * 100; // realistic bumps
    target += increment;
    animateTo(target, 800);
    setTimeout(bumpTarget, 2500 + Math.random() * 3000);
  }

  function animateTo(goal, duration) {
    const start = performance.now();
    const from = current;
    const delta = goal - from;

    function step(t) {
      const p = Math.min(1, (t - start) / duration);
      const eased = 1 - Math.pow(1 - p, 3); // easeOutCubic
      const val = from + delta * eased;
      amountEl.textContent = fmt(val);
      if (p < 1) {
        requestAnimationFrame(step);
      } else {
        current = goal;
        localStorage.setItem('rev', current); // persist value
      }
    }
    requestAnimationFrame(step);
  }

  // Init
  amountEl.textContent = fmt(current);
  bumpTarget();
</script>
